{% extends "social/_layouts/cp" %}
{% import "_includes/forms" as forms %}

{% set selectedTab = 'providers' %}

{% set content %}

    <table id="fields" class="data fullwidth collapsible">
        <thead>
            <tr>
                <th scope="col"></th>
                <th scope="col">{{ "Name"|t }}</th>
                <th scope="col">{{ "Scope"|t }}</th>
                <th scope="col">{{ "Authorization Options"|t }}</th>
                <th scope="col">{{ "Configured"|t }}</th>
                <th class="thin"></th>
            </tr>
        </thead>

        <tbody>
            {% for provider in providers %}
                {% set oauthProvider = provider.getOauthProvider() %}

                <tr>
                    <td class="thin">
                        {% if provider.iconUrl %}
                            <img src="{{ provider.iconUrl }}" height="24" />
                        {% endif %}
                    </td>

                    <td>
                        <a href="{{ url('social/providers/'~provider.handle) }}">{{ provider.name }}</a>
                    </td>

                    <td class="light">
                        {{ provider.getScope()|length }} permissions
                    </td>

                    <td class="light">
                        {{ provider.getAuthorizationOptions()|length }} options
                    </td>

                    <td>
                        {% if oauthProvider.isConfigured %}
                            <span class="status on"></span> {{ "Configured"|t }}
                        {% else %}
                            <span class="status"></span><span class="light">{{ "Not Configured"|t }}</span>
                        {% endif %}
                    </td>

                    <td>
                        <a href="{{ url('oauth/providers/'~provider.handle) }}" title="{{ 'OAuth Settings'|t }}" data-icon="settings"></a>
                    </td>
                </tr>

            {% endfor %}
        </tbody>
    </table>

{% endset %}
