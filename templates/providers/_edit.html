{% extends "_layouts/cp" %}
{% import "_includes/forms" as forms %}

{% set title = provider.name %}

{% set crumbs = [
{ label: "Settings"|t, url: url('settings') },
{ label: "Plugin"|t, url: url('settings/plugins') },
{ label: "Social Login"|t, url: url('social') },
{ label: "Providers"|t, url: url('social/providers') },
] %}

{% macro configWarning(setting, file) -%}
{{ "This is being overridden by the {setting} config setting."|t({
setting: '<strong>'~setting~'</strong>'
})|raw }}
{%- endmacro %}

{% from _self import configWarning %}

{% set content %}

    {% set providerScope = provider.getScope() %}
    {% set providerAuthorizationOptions = provider.getAuthorizationOptions() %}

    <h2 class="first">{{ "Scope"|t }}</h2>

    {% if providerScope %}
        <ul>
            {% for scope in providerScope %}
                <li>{{ scope }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="light">{{ "No scope defined." }}</p>
    {% endif %}

    <h2>{{ "Authorization Options"|t }}</h2>

    {% if providerAuthorizationOptions %}
        <ul>
            {% for optionKey, optionValue in providerAuthorizationOptions %}
                <li><strong>{{ optionKey }}:</strong> {{ optionValue }} </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="light">{{ "No authorization options defined." }}</p>
    {% endif %}
    <hr>

    <div class="light">

        <p>{{ "Scopes express the permissions that users will get when they login with {provider}."|t({ provider: provider.name }) }}</p>

        <p>{{ "Authorization options are extra parameters which are passed when connecting to the provider."|t }}</p>

        <p>{{ "Customize the scope and authorization options of this provider by creating a config file under: {path}."|t({ path: '<code>craft/config/social.php</code>' })|raw }}</p>

        {% if provider.scopeDocsUrl %}
            <p>
                <a href="{{ provider.scopeDocsUrl }}" target="_blank">{{ "See available scopes for {provider}"|t({ provider: provider.name }) }}</a>.
            </p>
        {% endif %}
    </div>
{% endset %}